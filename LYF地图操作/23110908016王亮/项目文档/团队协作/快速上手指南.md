# 🚀 山东非遗系统：组员快速上手指南

欢迎加入“山东省非遗可视化系统”开发团队！为了让你能快速开始并输出代码，请遵循以下步骤。

---

## 🛠️ 第一步：环境检查
1. **IDE**: 确保使用 Visual Studio 2022。
2. **ArcEngine**: 确保已安装 ArcGIS Engine 10.6 及以上版本，并在 VS 中能正常看到相关引用。
3. **打开项目**: 双击 `WindowsFormsMap1.sln`。

---

## 🏗️ 第二步：理解“分部类”架构
虽然界面看上去是一个 `Form1`，但代码是由多个文件组成的。
在 **解决方案资源管理器** 中，点击 `Form1.cs` 左边的小三角，你会看到：
- `Form1.Navigation.cs` (地图导航)
- `Form1.Visual.cs` (演示模式)
- `Form1.Data.cs` (数据初始化)
... 等等。

**千万不要在 `Form1.cs` 里写业务代码，找到你的名字或模块对应的子文件编写。**

---

## 🤖 第三步：利用 Agent (AI 助手) 提效
我们推荐你把任务丢给 AI 助手处理，但必须给它清晰的上下文：

**推荐 Prompt 模板**：
> "我正在开发一个基于 ArcGIS Engine 10.x 的 WinForms 项目。
> 我们的主窗体是 `Form1`，采用了分部类（partial class）设计。
> 我现在的任务是：[描述你的具体任务，如：添加各地市统计]。
> 请在 `Form1.Stats.cs` 命名空间下为我生成逻辑。
> 注意：逻辑处理请封装在 `StatHelper` 类中，窗体只负责调用。"

---

## 📦 第四步：代码组装与测试
1. **新建类**: 如果你的任务涉及复杂算法，请在项目根目录新建 `xxxHelper.cs`。
2. **挂载事件**: 在你的 `Form1.xxx.cs` 中编写按钮点击等事件。
3. **生成**: 点击“生成” -> “重新生成解决方案”。

---

## ⚠️ 避坑指南
1. **COM 释放**: 记得对每个 `IFeatureCursor` 或 `IFeature` 使用 `Marshal.ReleaseComObject()`，否则程序运行几次就会崩。
2. **多线程**: ArcEngine 是单线程的，尽量避免在 `BackgroundWorker` 里直接操作地图控件。
3. **路径**: 使用 `Application.StartupPath` 结合相对路径引用数据。

祝开发愉快！有问题随时在群里呼叫组长（组员 A）。
